<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
        <style>
            img {
                width: 400px;
                height: 400px;
                object-fit: cover;
            }
        </style>
    </head>
    <body>
        <div id="app">
            <img v-bind:src="imgUrls[imgIndex]" />
            <div class="num-panel"><input v-model:value="playms" placeholder="播放速度" /> / ms</div>
            <div class="btns">
                <button @click="start">播放</button>
                <button @click="stop">暂停</button>
            </div>
        </div>

        <script>
            let app = new Vue({
                el: '#app',
                data: function () {
                    // 记录当前播放图片的标记，默认为0，即第一张播放的图片的标记为0
                    let imgIndex = 0
                    // 把需要播放的图片存放到该数组中
                    let imgUrls = [
                        '../../../static/img/90576222_p0.png',
                        '../../../static/img/91321477_p0.jpg',
                        '../../../static/img/91442565_p0.jpg',
                        '../../../static/img/91923874_p0.jpg',
                        '../../../static/img/91923874_p1.jpg',
                        '../../../static/img/92097252_p0.png',
                        '../../../static/img/92351532_p0.png'
                    ]
                    // 图片播放速度
                    let playms = 500
                    // 用于停止播放的标志
                    let interval = undefined
                    return {
                        playms,
                        imgIndex,
                        imgUrls,
                        interval
                    }
                },
                methods: {
                    // 播放函数
                    start: function () {
                        let _this = this
                        console.log(_this.playms)
                        _this.interval = setInterval(function () {
                            _this.imgIndex++
                            if (_this.imgIndex > _this.imgUrls.length - 1) _this.imgIndex = 0
                        }, _this.playms)
                    },
                    stop: function () {
                        clearInterval(this.interval)
                    }
                }
            })
        </script>
    </body>
</html>
