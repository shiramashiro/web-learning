<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>基于Vue实现学生管理系统</title>
        <script src="https://unpkg.com/vue@next"></script>
        <style>
            body {
                margin: 0 300px;
            }

            .up {
                text-align: center;
                padding: 20px 0;
            }

            .down {
                margin-top: 40px;
            }

            .down div {
                font-weight: bold;
                background-color: #fdf7f7;
            }

            .down .body .item {
                display: flex;
                justify-content: space-between;
            }

            .input-box {
                margin: 20px 0;
            }

            .input {
                width: 350px;
                border: 0;
                height: 25px;
                border-radius: 8px;
            }

            .down #table {
                border-collapse: collapse;
                border: 1px solid #aaa;
                width: 100%;
            }

            .down .rows td {
                text-align: center;
            }

            .rows:nth-child(2n) {
                background: #cccc;
            }
        </style>
    </head>
    <body>
        <div id="app">
            <h1>学生管理系统</h1>
            <div style="background-color: #eceff0" class="up">
                <div class="wrap">
                    <div class="input-box">学号：<input v-model="student.num" class="input" type="text" placeholder="请输入学号" /></div>
                    <div class="input-box">姓名：<input v-model="student.name" class="input" type="text" placeholder="请输入姓名" /></div>
                    <div class="input-box">班级：<input v-model="student.class" class="input" type="text" placeholder="请输入班级" /></div>
                    <div class="input-box">性别：<input v-model="student.sex" class="input" type="text" placeholder="男/女" /></div>
                    <div class="input-box">年龄：<input v-model="student.age" class="input" type="text" placeholder="请输入年龄" /></div>
                    <div>行数：<input v-model="rowNum" id="del-input" type="text" placeholder="请输入要操作的行数" /></div>
                    <button class="btn" v-on:click="addItem">录入</button>
                    <button class="btn" v-on:click="reviseItem">修改</button>
                </div>
            </div>

            <div class="down">
                <table id="table">
                    <tr>
                        <th>学号</th>
                        <th>姓名</th>
                        <th>班级</th>
                        <th>性别</th>
                        <th>年龄</th>
                    </tr>
                    <tr v-on:click="del(index)" class="rows" v-for="(item, index) in students" :key="index">
                        <th>{{item.num}}</th>
                        <th>{{item.name}}</th>
                        <th>{{item.class}}</th>
                        <th>{{item.sex}}</th>
                        <th>{{item.age}}</th>
                    </tr>
                </table>
            </div>
        </div>

        <script>
            const app = {
                data() {
                    return {
                        students: [],
                        student: {
                            num: 0,
                            name: '',
                            class: '',
                            sex: '',
                            age: 0
                        },
                        rowNum: 0
                    };
                },
                methods: {
                    addItem() {
                        this.students.push({
                            num: this.student.num,
                            name: this.student.name,
                            class: this.student.class,
                            sex: this.student.sex,
                            age: this.student.age
                        });
                    },
                    reviseItem() {
                        this.students[this.rowNum] = {
                            num: this.student.num,
                            name: this.student.name,
                            class: this.student.class,
                            sex: this.student.sex,
                            age: this.student.age
                        };
                    }
                }
            };

            Vue.createApp(app).mount('#app');
        </script>
    </body>
</html>
