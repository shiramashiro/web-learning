<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>学生管理系统</title>
        <style>
            body {
                margin: 0 300px;
            }

            .up {
                text-align: center;
                padding: 20px 0;
            }

            .down {
                /* margin: 40px 0 0 0; */
                /* 上下两个写法等价 */
                margin-top: 40px;
            }

            .down div {
                font-weight: bold;
                background-color: #fdf7f7;
            }

            .down .body .item {
                display: flex;
                justify-content: space-between;
            }

            .input-box {
                margin: 20px 0;
            }

            .input {
                width: 350px;
                border: 0;
                height: 25px;
                border-radius: 8px;
            }

            .down #table {
                border-collapse: collapse;
                border: 1px solid #aaa;
                width: 100%;
            }

            .down .rows td {
                text-align: center;
            }

            .rows:nth-child(2n) {
                background: #cccc;
            }
        </style>
    </head>
    <body>
        <h1>学生管理系统</h1>
        <!-- 上半部分-->
        <div style="background-color: #eceff0" class="up">
            <div class="wrap">
                <div class="input-box">学号：<input class="input" type="text" placeholder="请输入学号" /></div>
                <div class="input-box">姓名：<input class="input" type="text" placeholder="请输入姓名" /></div>
                <div class="input-box">班级：<input class="input" type="text" placeholder="请输入班级" /></div>
                <div class="input-box">性别：<input class="input" type="text" placeholder="男/女" /></div>
                <div class="input-box">年龄：<input class="input" type="text" placeholder="请输入年龄" /></div>
                <div>行数：<input id="del-input" type="text" placeholder="请输入要操作的行数" /></div>
                <button class="btn" onclick="add()">录入</button>
                <button class="btn" onclick="del()">删除</button>
                <button class="btn" onclick="rep()">修改</button>
            </div>
        </div>

        <!-- 下半部分-->
        <div class="down">
            <table id="table">
                <tr>
                    <th>学号</th>
                    <th>姓名</th>
                    <th>班级</th>
                    <th>性别</th>
                    <th>年龄</th>
                </tr>
            </table>
        </div>
        <script>
            function add() {
                //1.先获取五个div属性
                let fiveValue = document.getElementsByClassName('input')
                //2.点击后，放入表格
                let addtr = document.createElement('tr')
                addtr.setAttribute('class', 'rows')
                for (let i = 0; i < fiveValue.length; i++) {
                    let addtd = document.createElement('td')
                    addtd.setAttribute('class', 'cols')
                    addtd.innerText = fiveValue[i].value
                    addtr.appendChild(addtd)
                }
                let table = document.getElementById('table')
                table.appendChild(addtr)
            }

            /**
             * 删除表格中一条信息
             * 1. 获取节点
             * 2. 删除节点
             */
            function del() {
                // 1. 获取id为table的节点
                let table = document.getElementById('table')
                // 2. 获取要删除的行数
                let delInput = document.getElementById('del-input')
                // 3. 删除table下的delInput子节点
                table.removeChild(table.childNodes[Number(delInput.value) + 1])
                // 4. 问题，为什么要加1,
                // 答案：因为table下的子节点在最开始就有两个子节点了，分别为text、tbody这两个子节点，所以真正的数据是从索引值2开始的
                // 因此+1就符合我们要删除第一行时再delInput输入的1.
            }

            function rep() {
                //1.获取table节点
                let table = document.getElementById('table')
                //2.获取input输入添加的行数位置
                let delInput = document.getElementById('del-input')
                //3.获取五个div属性
                let fiveValue = document.getElementsByClassName('input')
                //4.放入参数
                let rows = table.childNodes[Number(delInput.value) + 1]
                let cols = rows.childNodes
                for (let i = 0; i < fiveValue.length; i++) {
                    cols[i].textContent = fiveValue[i].value
                }
            }
        </script>
    </body>
</html>
